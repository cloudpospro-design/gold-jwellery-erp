{
  "summary": {
    "total_tests": 61,
    "passed_tests": 60,
    "failed_tests": 1,
    "success_rate": 98.36065573770492
  },
  "test_results": [
    {
      "test_name": "API Health Check",
      "success": true,
      "details": "API endpoint accessible at https://jewellerp-gst.preview.emergentagent.com/api",
      "response_data": {
        "message": "Gold Jewellery ERP API",
        "version": "1.0.0"
      },
      "timestamp": "2026-01-14T18:24:31.934993"
    },
    {
      "test_name": "User Registration - admin role",
      "success": true,
      "details": "Register user with admin role",
      "response_data": {
        "user_id": "d0a77ca5-27ce-4718-9874-a180e4bba1e2"
      },
      "timestamp": "2026-01-14T18:24:32.198150"
    },
    {
      "test_name": "User Registration - manager role",
      "success": true,
      "details": "Register user with manager role",
      "response_data": {
        "user_id": "e951f880-27f7-47d4-b688-d3aed0ac2f4b"
      },
      "timestamp": "2026-01-14T18:24:32.461409"
    },
    {
      "test_name": "User Registration - sales role",
      "success": true,
      "details": "Register user with sales role",
      "response_data": {
        "user_id": "0ae9134d-9c3d-4aea-8c38-5da4cdb33918"
      },
      "timestamp": "2026-01-14T18:24:32.729201"
    },
    {
      "test_name": "Login - Valid Credentials",
      "success": true,
      "details": "Login successful for admin@jewellerp.com",
      "response_data": {
        "has_token": true,
        "user_role": "admin"
      },
      "timestamp": "2026-01-14T18:24:32.991317"
    },
    {
      "test_name": "Login - Invalid Credentials (admin@jewellerp.com)",
      "success": true,
      "details": "Correctly rejected invalid credentials",
      "response_data": {
        "detail": "Incorrect email or password"
      },
      "timestamp": "2026-01-14T18:24:33.257381"
    },
    {
      "test_name": "Login - Invalid Credentials (nonexistent@jewellerp.com)",
      "success": true,
      "details": "Correctly rejected invalid credentials",
      "response_data": {
        "detail": "Incorrect email or password"
      },
      "timestamp": "2026-01-14T18:24:33.294482"
    },
    {
      "test_name": "Login - Invalid Credentials (invalid-email)",
      "success": true,
      "details": "Correctly rejected invalid credentials",
      "response_data": {
        "detail": [
          {
            "type": "value_error",
            "loc": [
              "body",
              "email"
            ],
            "msg": "value is not a valid email address: An email address must have an @-sign.",
            "input": "invalid-email",
            "ctx": {
              "reason": "An email address must have an @-sign."
            }
          }
        ]
      },
      "timestamp": "2026-01-14T18:24:33.327586"
    },
    {
      "test_name": "Get Current User Info",
      "success": true,
      "details": "Retrieved user info for admin@jewellerp.com",
      "response_data": {
        "user_id": "dae8679c-a179-47f2-ad3a-e1c28879c783",
        "role": "admin"
      },
      "timestamp": "2026-01-14T18:24:33.361610"
    },
    {
      "test_name": "Get All Users List",
      "success": true,
      "details": "Retrieved 20 users",
      "response_data": {
        "user_count": 20
      },
      "timestamp": "2026-01-14T18:24:33.399789"
    },
    {
      "test_name": "Get All Users List",
      "success": true,
      "details": "Retrieved 20 users",
      "response_data": {
        "user_count": 20
      },
      "timestamp": "2026-01-14T18:24:33.441556"
    },
    {
      "test_name": "Toggle User Active Status",
      "success": true,
      "details": "User ccd2e164-6ad1-4142-8899-4ef56890a275 status changed from False to True",
      "response_data": {
        "user_id": "ccd2e164-6ad1-4142-8899-4ef56890a275",
        "original_status": false,
        "new_status": true
      },
      "timestamp": "2026-01-14T18:24:33.493510"
    },
    {
      "test_name": "Unauthorized Access Protection",
      "success": true,
      "details": "Correctly rejected request without token",
      "response_data": {
        "detail": "Not authenticated"
      },
      "timestamp": "2026-01-14T18:24:33.527502"
    },
    {
      "test_name": "Create Category - Necklace",
      "success": true,
      "details": "Created Necklace category",
      "response_data": {
        "category_id": "fa1452c7-a8b6-4045-90c1-47f981dc2660"
      },
      "timestamp": "2026-01-14T18:24:33.562533"
    },
    {
      "test_name": "Create Category - Ring",
      "success": true,
      "details": "Created Ring category",
      "response_data": {
        "category_id": "e25aea0b-1c31-43e7-85d3-f81356021446"
      },
      "timestamp": "2026-01-14T18:24:33.599542"
    },
    {
      "test_name": "Create Category - Bangle",
      "success": true,
      "details": "Created Bangle category",
      "response_data": {
        "category_id": "c9203460-d129-4947-9224-d8e71dc07c79"
      },
      "timestamp": "2026-01-14T18:24:33.632824"
    },
    {
      "test_name": "Create Category - Earring",
      "success": true,
      "details": "Created Earring category",
      "response_data": {
        "category_id": "59de96a6-e214-45c8-8920-5f23d39246b3"
      },
      "timestamp": "2026-01-14T18:24:33.668046"
    },
    {
      "test_name": "Get All Categories",
      "success": true,
      "details": "Retrieved 20 categories",
      "response_data": {
        "category_count": 20
      },
      "timestamp": "2026-01-14T18:24:33.705743"
    },
    {
      "test_name": "Get All Categories",
      "success": true,
      "details": "Retrieved 20 categories",
      "response_data": {
        "category_count": 20
      },
      "timestamp": "2026-01-14T18:24:33.742139"
    },
    {
      "test_name": "Create Product with Jewellery Attributes",
      "success": true,
      "details": "Product created with selling price \u20b936050.0 (expected \u20b936050.0)",
      "response_data": {
        "product_id": "e8792643-b392-4e5a-8b36-22dbaab18d9a",
        "selling_price": 36050.0
      },
      "timestamp": "2026-01-14T18:24:33.777049"
    },
    {
      "test_name": "Get All Products",
      "success": true,
      "details": "Retrieved 12 products",
      "response_data": {
        "product_count": 12
      },
      "timestamp": "2026-01-14T18:24:33.814148"
    },
    {
      "test_name": "Get Products by Category - Necklace",
      "success": true,
      "details": "Retrieved 5 products for category Necklace",
      "response_data": {
        "filtered_count": 5
      },
      "timestamp": "2026-01-14T18:24:33.848575"
    },
    {
      "test_name": "Get Low Stock Products",
      "success": true,
      "details": "Retrieved 4 low stock products",
      "response_data": {
        "low_stock_count": 4
      },
      "timestamp": "2026-01-14T18:24:33.881179"
    },
    {
      "test_name": "Search Products - 'Updat'",
      "success": true,
      "details": "Found 1 products matching 'Updat'",
      "response_data": {
        "search_results": 1
      },
      "timestamp": "2026-01-14T18:24:33.914919"
    },
    {
      "test_name": "Get Single Product by ID",
      "success": true,
      "details": "Product e8792643-b392-4e5a-8b36-22dbaab18d9a retrieved with all required fields",
      "response_data": {
        "product_id": "e8792643-b392-4e5a-8b36-22dbaab18d9a",
        "has_all_fields": true
      },
      "timestamp": "2026-01-14T18:24:33.946494"
    },
    {
      "test_name": "Update Product Details",
      "success": true,
      "details": "Product updated - Name: True, Charges: True, Price: True, Recalculated: True",
      "response_data": {
        "product_id": "862fd27d-80fb-42af-921b-6148a4d4b674",
        "updates_applied": true
      },
      "timestamp": "2026-01-14T18:24:34.014785"
    },
    {
      "test_name": "Update Product Stock",
      "success": true,
      "details": "Stock updated from 14 to 19 (expected 19), Low stock: False",
      "response_data": {
        "product_id": "862fd27d-80fb-42af-921b-6148a4d4b674",
        "stock_correct": true
      },
      "timestamp": "2026-01-14T18:24:34.090356"
    },
    {
      "test_name": "Low Stock Detection",
      "success": true,
      "details": "Product created with quantity 2, threshold 5, marked as low stock: True",
      "response_data": {
        "quantity": 2,
        "threshold": 5,
        "is_low_stock": true
      },
      "timestamp": "2026-01-14T18:24:34.164605"
    },
    {
      "test_name": "Delete Product",
      "success": true,
      "details": "Product deleted and verified as removed",
      "response_data": {
        "product_id": "a22ded46-1d09-46fb-80ac-4d4da0902e85",
        "deletion_verified": true
      },
      "timestamp": "2026-01-14T18:24:34.308743"
    },
    {
      "test_name": "Create Customer with Address Details",
      "success": true,
      "details": "Customer created with all required fields",
      "response_data": {
        "customer_id": "d5321a46-84fa-4955-b822-2e75f560dc62",
        "has_all_fields": true
      },
      "timestamp": "2026-01-14T18:24:34.348203"
    },
    {
      "test_name": "Get All Customers",
      "success": true,
      "details": "Retrieved 4 customers",
      "response_data": {
        "customer_count": 4
      },
      "timestamp": "2026-01-14T18:24:34.379741"
    },
    {
      "test_name": "Get All Customers",
      "success": true,
      "details": "Retrieved 4 customers",
      "response_data": {
        "customer_count": 4
      },
      "timestamp": "2026-01-14T18:24:34.412503"
    },
    {
      "test_name": "Create Sale with GST Calculation & Stock Reduction",
      "success": true,
      "details": "Sale created - Invoice: True, GST (CGST+SGST (intra-state)): True, Stock reduced: True",
      "response_data": {
        "sale_id": "ba7ccfc3-8d63-47dc-b0e9-35fa6b258fe4",
        "invoice_number": "INV-2024-00012",
        "gst_breakdown": {
          "cgst": 600.0,
          "sgst": 600.0,
          "igst": 0.0,
          "total_tax": 1200.0
        },
        "checks_passed": true
      },
      "timestamp": "2026-01-14T18:24:34.610275"
    },
    {
      "test_name": "Get All Sales",
      "success": true,
      "details": "Retrieved 12 sales",
      "response_data": {
        "sales_count": 12
      },
      "timestamp": "2026-01-14T18:24:34.654244"
    },
    {
      "test_name": "Get Sales by Status - Completed",
      "success": true,
      "details": "Retrieved 12 completed sales",
      "response_data": {
        "completed_sales_count": 12
      },
      "timestamp": "2026-01-14T18:24:34.691178"
    },
    {
      "test_name": "Get Single Sale by ID",
      "success": true,
      "details": "Sale ba7ccfc3-8d63-47dc-b0e9-35fa6b258fe4 retrieved with all required fields",
      "response_data": {
        "sale_id": "ba7ccfc3-8d63-47dc-b0e9-35fa6b258fe4",
        "has_all_fields": true
      },
      "timestamp": "2026-01-14T18:24:34.769161"
    },
    {
      "test_name": "Sales Summary Statistics",
      "success": true,
      "details": "Summary: 12 total sales, \u20b9754428.65 revenue",
      "response_data": {
        "total_sales": 12,
        "total_revenue": 754428.65,
        "today_stats": "12 sales, \u20b9754428.65"
      },
      "timestamp": "2026-01-14T18:24:34.841723"
    },
    {
      "test_name": "Get All Customers",
      "success": true,
      "details": "Retrieved 4 customers",
      "response_data": {
        "customer_count": 4
      },
      "timestamp": "2026-01-14T18:24:34.917246"
    },
    {
      "test_name": "Payment Method Tracking",
      "success": true,
      "details": "Successfully tested 4/4 payment methods",
      "response_data": {
        "methods_tested": 4,
        "total_methods": 4
      },
      "timestamp": "2026-01-14T18:24:35.101758"
    },
    {
      "test_name": "Create Supplier with Full Details",
      "success": true,
      "details": "Supplier created with all required fields",
      "response_data": {
        "supplier_id": "08d350a8-0479-4764-8c3b-3a70b9081067",
        "has_all_fields": true
      },
      "timestamp": "2026-01-14T18:24:35.134406"
    },
    {
      "test_name": "Get All Suppliers",
      "success": true,
      "details": "Retrieved 3 suppliers",
      "response_data": {
        "supplier_count": 3
      },
      "timestamp": "2026-01-14T18:24:35.169696"
    },
    {
      "test_name": "Get All Suppliers",
      "success": true,
      "details": "Retrieved 3 suppliers",
      "response_data": {
        "supplier_count": 3
      },
      "timestamp": "2026-01-14T18:24:35.205681"
    },
    {
      "test_name": "Update Supplier Details",
      "success": true,
      "details": "Supplier updated - Name: True, Terms: True, Phone: True",
      "response_data": {
        "supplier_id": "65515b9d-2512-4584-889d-758fcd389972",
        "updates_applied": true
      },
      "timestamp": "2026-01-14T18:24:35.242292"
    },
    {
      "test_name": "Get All Suppliers",
      "success": true,
      "details": "Retrieved 3 suppliers",
      "response_data": {
        "supplier_count": 3
      },
      "timestamp": "2026-01-14T18:24:35.291127"
    },
    {
      "test_name": "Create Purchase Order with Items",
      "success": true,
      "details": "PO created - Number format: True, Calculations: True",
      "response_data": {
        "po_id": "5de37642-43b6-4708-8b64-8e57142626da",
        "po_number": "PO-2024-00003",
        "calculations_correct": true
      },
      "timestamp": "2026-01-14T18:24:35.364369"
    },
    {
      "test_name": "Get All Purchase Orders",
      "success": true,
      "details": "Retrieved 3 purchase orders",
      "response_data": {
        "orders_count": 3
      },
      "timestamp": "2026-01-14T18:24:35.402955"
    },
    {
      "test_name": "Get Purchase Orders by Status - Pending",
      "success": true,
      "details": "Retrieved 2 pending orders",
      "response_data": {
        "pending_orders_count": 2
      },
      "timestamp": "2026-01-14T18:24:35.441538"
    },
    {
      "test_name": "Get All Purchase Orders",
      "success": true,
      "details": "Retrieved 3 purchase orders",
      "response_data": {
        "orders_count": 3
      },
      "timestamp": "2026-01-14T18:24:35.478079"
    },
    {
      "test_name": "Get Purchase Orders by Status - Pending",
      "success": true,
      "details": "Retrieved 2 pending orders",
      "response_data": {
        "pending_orders_count": 2
      },
      "timestamp": "2026-01-14T18:24:35.510386"
    },
    {
      "test_name": "Get Single Purchase Order by ID",
      "success": true,
      "details": "Purchase order 5de37642-43b6-4708-8b64-8e57142626da retrieved with all required fields",
      "response_data": {
        "po_id": "5de37642-43b6-4708-8b64-8e57142626da",
        "has_all_fields": true
      },
      "timestamp": "2026-01-14T18:24:35.546708"
    },
    {
      "test_name": "Get All Purchase Orders",
      "success": true,
      "details": "Retrieved 3 purchase orders",
      "response_data": {
        "orders_count": 3
      },
      "timestamp": "2026-01-14T18:24:35.581017"
    },
    {
      "test_name": "Get Purchase Orders by Status - Pending",
      "success": true,
      "details": "Retrieved 2 pending orders",
      "response_data": {
        "pending_orders_count": 2
      },
      "timestamp": "2026-01-14T18:24:35.616013"
    },
    {
      "test_name": "Receive Purchase Order & Auto Stock Update",
      "success": true,
      "details": "PO received - Status: True, Date: True, Stock: True, Purchases: True",
      "response_data": {
        "po_id": "5de37642-43b6-4708-8b64-8e57142626da",
        "status_updated": true,
        "stock_updated": true,
        "purchases_updated": true
      },
      "timestamp": "2026-01-14T18:24:35.834459"
    },
    {
      "test_name": "Record Old Gold Exchange",
      "success": true,
      "details": "Exchange recorded - Value calculation: True, All fields: True",
      "response_data": {
        "exchange_id": "d443a32e-0779-43f3-93e1-dbade8003aca",
        "total_value": 57750.0,
        "calculation_correct": true
      },
      "timestamp": "2026-01-14T18:24:35.870897"
    },
    {
      "test_name": "Get All Old Gold Exchanges",
      "success": true,
      "details": "Retrieved 2 old gold exchanges",
      "response_data": {
        "exchange_count": 2
      },
      "timestamp": "2026-01-14T18:24:35.905070"
    },
    {
      "test_name": "Generate GSTR-1 Report with B2B/B2C Breakdown",
      "success": true,
      "details": "GSTR-1 generated - Fields: True, Dates: True, B2B: True, B2C: True, Totals: True",
      "response_data": {
        "b2b_count": 0,
        "b2c_count": 0,
        "total_taxable_value": 0.0,
        "total_tax": 0.0
      },
      "timestamp": "2026-01-14T18:24:35.942255"
    },
    {
      "test_name": "Generate HSN-wise Summary Report",
      "success": true,
      "details": "HSN Summary generated - Fields: True, Items: True, Totals: True",
      "response_data": {
        "hsn_items_count": 0,
        "total_taxable_value": 0.0,
        "total_tax": 0.0
      },
      "timestamp": "2026-01-14T18:24:35.981421"
    },
    {
      "test_name": "Generate GSTR-3B Monthly Summary Report",
      "success": true,
      "details": "GSTR-3B generated - Fields: True, Outward: True, ITC: True, Net: True",
      "response_data": {
        "outward_tax_amount": 0.0,
        "inward_tax_amount": 0.0,
        "net_tax_payable": 0.0
      },
      "timestamp": "2026-01-14T18:24:36.023074"
    },
    {
      "test_name": "Generate ITC Reconciliation Report",
      "success": true,
      "details": "ITC Reconciliation generated - Fields: True, ITC: True, Output: True, Net: True, Totals: True",
      "response_data": {
        "total_itc_available": 0.0,
        "total_output_tax": 0.0,
        "net_tax_payable": 0.0,
        "total_purchases": 0.0,
        "total_sales": 0.0
      },
      "timestamp": "2026-01-14T18:24:36.062094"
    },
    {
      "test_name": "GST Reports Date Range Validation",
      "success": false,
      "details": "Date validation - Missing params: True, Invalid format: False, Future dates: True",
      "response_data": {
        "missing_params_handled": true,
        "invalid_format_handled": false,
        "future_dates_handled": true
      },
      "timestamp": "2026-01-14T18:24:36.165288"
    },
    {
      "test_name": "GST Reports Permission Access",
      "success": true,
      "details": "Report access - GSTR-1: True, HSN: True, GSTR-3B: True, ITC: True",
      "response_data": {
        "gstr1_access": true,
        "hsn_access": true,
        "gstr3b_access": true,
        "itc_access": true
      },
      "timestamp": "2026-01-14T18:24:36.309851"
    }
  ],
  "failed_tests": [
    {
      "test_name": "GST Reports Date Range Validation",
      "success": false,
      "details": "Date validation - Missing params: True, Invalid format: False, Future dates: True",
      "response_data": {
        "missing_params_handled": true,
        "invalid_format_handled": false,
        "future_dates_handled": true
      },
      "timestamp": "2026-01-14T18:24:36.165288"
    }
  ]
}